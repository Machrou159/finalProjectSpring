<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head>
        <meta charset="utf-8" />
        <title>Création d'un ticket</title>       	
       	<link rel="stylesheet" type="text/css" th:href="@{/lib/semantic-ui/semantic.min.css}">
		<link rel="stylesheet" type="text/css" th:href="@{/lib/data-tables/dataTables.semanticui.min.css}">	
		<script type="text/javascript" th:src="@{/lib/jquery/jquery-3.1.1.min.js}"></script>
		<script type="text/javascript" th:src="@{/lib/data-tables/jquery.dataTables.min.js}"></script>
		<script type="text/javascript" th:src="@{/lib/data-tables/dataTables.semanticui.min.js}"></script>
		<script type="text/javascript" th:src="@{/lib/semantic-ui/semantic.min.js}"></script>
		<script type="text/javascript" th:src="@{/lib/semantic-ui/components/calendar.min.js}"></script>
		<script type="text/javascript" th:src="@{/customer/js/create-ticket.js}"></script>
</head>

<body style="background-color: #A66597;">
    
	<!-- top navigation bar -->
	<div style="background-color: #d66797; overflow: hidden;">
		<div style="background-color: #d66797" class="ui inverted segment">
			<div style="border: 1px solid #d66797;"
				class="ui inverted secondary pointing top menu">
				<a class="active item"> <i
					class="male large icon"></i> Tickets
				</a>
				<div class="right menu">
					<a onclick="redirect('/spring-boot-thymeleaf/disconnection')" class="item"> <i>Deconnecter</i>
					</a>
				</div>
			</div>
		</div>
	</div>

	<br />
	<br />
	
    <div class="ui grid">

    <div class="three wide column"></div>

    <div class="ten wide column">
    	
    	 <div id="creation-error-msg" class="ui error message" th:style="${formDisplayErrorMsg == 'YES' ? 'display:block' : 'display:none'}">Tous les champs sont obligatoires</div>
    	
          <form id="sp-ticket-form" class="ui form" th:action="@{/customer/vues/tickets/create-ticket}" th:object="${ticketForm}" method="POST">
         	<div class="ui floating message"> 
	            <div id="description-field" class="required field">
	              <label>Description</label>
	              <input id="description" type="text" name="description" placeholder="Description" th:field="*{description}">
	            </div>
	            <div id="status-field" class="required field">
	              <label>Status</label>
						<div id="status-selection" class="ui fluid search selection dropdown">
							<input id="status-id" type="hidden" name="status-id" th:field="*{status}"> 
							<i class="dropdown icon"></i>
							<div class="default text">Status</div>
							<div class="menu" >
								<th:block th:each="ref : ${status}">
									<div class="item" th:utext="${ref.label}" th:data-value="${ref.id}"></div>
								</th:block>
							</div>
						</div>
	            </div>
	            <div id="urgence-field" class="required field">
	              <label>Urgence</label>
						<div id="urgence-selection" class="ui fluid search selection dropdown">
							<input id="urgence-id" type="hidden" name="urgence-id" th:field="*{urgence}"> <i
								class="dropdown icon"></i>
							<div class="default text">Urgence</div>
							<div class="menu" >
								<th:block th:each="ref : ${urgence}">
									<div class="item" th:utext="${ref.label}" th:data-value="${ref.id}"></div>
								</th:block>
							</div>
						</div>
				</div>
				<div id="environment-field" class="required field">
	              <label>Environment</label>
						<div id="environment-selection" class="ui fluid search selection dropdown">
							<input id="environment-id" type="hidden" name="environment-id" th:field="*{environment}"> <i
								class="dropdown icon"></i>
							<div class="default text">Environment</div>
							<div class="menu" >
								<th:block th:each="ref : ${environments}">
									<div class="item" th:utext="${ref.label}" th:data-value="${ref.id}"></div>
								</th:block>
							</div>
						</div>
	            </div>
	            <div id="software-field" class="required field">
	              <label>Software</label>
						<div id="software-selection" class="ui fluid search selection dropdown">
							<input id="software-id" type="hidden" name="software-id" th:field="*{software}"> <i
								class="dropdown icon"></i>
							<div class="default text">Software</div>
							<div class="menu" >
								<th:block th:each="ref : ${softwares}">
									<div class="item" th:utext="${ref.label}" th:data-value="${ref.id}"></div>
								</th:block>
							</div>
						</div>
	            </div>            
	          	<br/>
	        	<button onclick="handleSubmit(); return false;" style="background-color: #d66797; color: white;" class="ui button" type="submit">Créer</button>
        	</div>
          </form>
          
     </div>
          
     <div class="three wide column"></div>
          
     </div>

</body>

</html>